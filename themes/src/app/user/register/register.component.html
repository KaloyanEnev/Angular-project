<div class="register-container">
  <h2>Register</h2>
  <form #form="ngForm" (ngSubmit)="register(form)">
    <!-- Username Input with Label -->
    <label for="username">Username</label>
    <input
      type="text"
      class="input-field"
      id="username"
      name="username"
      placeholder="Enter your username"
      ngModel
      #inputUsername="ngModel"
      minlength="5"
      required
      (input)="resetErrors()"
    />
    @if(inputUsername?.touched && inputUsername?.errors?.['required']){
      <p class="error-message">Username is required!</p>
    }
    @if(inputUsername?.touched && inputUsername?.errors?.['minlength']){
      <p class="error-message">Username must be at least 5 characters long!</p>
    }

    <!-- Email Input with Label -->
    <label for="email">Email</label>
    <input
      type="email"
      class="input-field"
      id="email"
      name="email"
      placeholder="Enter your email"
      ngModel
      #inputEmail="ngModel"
      required
      [appEmail]="domains"
    />
    @if(inputEmail?.touched && inputEmail?.errors?.['required']){
      <p class="error-message">Email is required!</p>
    }
    @if(inputEmail?.touched && inputEmail?.errors?.['emailValidator']){
      <p class="error-message">Invalid email address!</p>
    }

    <!-- Telephone Input with Label -->
    <label for="tel">Telephone Number</label>
    <input
      type="tel"
      class="input-field"
      id="tel"
      name="tel"
      placeholder="Enter your telephone number"
      ngModel
      #inputTel="ngModel"
      required
      minlength="9"
    />
    @if(inputTel?.touched && inputTel?.errors?.['required']){
      <p class="error-message">Telephone number is required!</p>
    }
    @if(inputTel?.touched && inputTel?.errors?.['minlength']){
      <p class="error-message">Telephone number must be at least 9 characters long!</p>
    }

    <!-- Password Input with Label -->
    <label for="password">Password</label>
    <input
      type="password"
      class="input-field"
      id="password"
      name="password"
      placeholder="Enter your password"
      ngModel
      #inputPassword="ngModel"
      required
      minlength="5"
    />
    @if(inputPassword?.touched && inputPassword?.errors?.['required']){
      <p class="error-message">Password is required!</p>
    }
    @if(inputPassword?.touched && inputPassword?.errors?.['minlength']){
      <p class="error-message">Password must be at least 5 characters long!</p>
    }

    <!-- Confirm Password Input with Label -->
    <label for="rePassword">Confirm Password</label>
    <input
      type="password"
      class="input-field"
      id="rePassword"
      name="rePassword"
      placeholder="Confirm your password"
      ngModel
      #inputRePassword="ngModel"
      required
      minlength="5"
    />
    @if(inputRePassword?.touched && inputRePassword?.errors?.['required']){
      <p class="error-message">Password confirmation is required!</p>
    }
    @if(inputRePassword?.touched && inputRePassword?.errors?.['minlength']){
      <p class="error-message">Password confirmation must be at least 5 characters long!</p>
    }

    <!-- Register Button -->
    <button
      class="register-button"
      [disabled]="form.invalid"
    >
      Register
    </button>
  </form>

  <!-- Error Message -->
  @if(errorMessage){
    <p class="error-message">{{ errorMessage }}</p>
  }

  <!-- Link to Login page -->
  <div class="login-link">
    <p>Already have an account? <a routerLink="/login">Login here</a></p>
  </div>
</div>
